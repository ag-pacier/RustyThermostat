
PollutionReading {
	id integer pk increments unique
	timestamp timestamp
	AQI integer null
	CO float
	NO float
	NO2 float
	O3 float
	SO2 float
	PM2_5 float
	NH3 float
}

CurrentConditions {
	id integer pk increments
	Pollution integer > PollutionReading.id
	Weather integer > WeatherReading.id
	Home integer > IndoorCondition.id
	trippedAlerts integer >* Alerts.id
}

WeatherReading {
	id integer pk increments
	timestamp timestamp
	condition string
	description text
	icon string
	tempReal float
	tempFeel float
	pressureSea integer
	humidity integer
	pressureGround integer
	visibility integer
	windSpeed float
	windDeg integer
	windGust float
	rain1H float null
	rain3H float null
	snow1H float null
	snow3H float null
	clouds integer
	dt integer
	sunrise integer
	sunset integer
}

IndoorCondition {
	id integer pk increments
	timestamp timestamp
	houseTemp float >* Zones.currentTemp
	houseHumidity integer null >* Zones.currentHumid
	Heat binary null >* Zones.statusHeat
	AirCon binary null >* Zones.statusAC
}

Zones {
	id integer pk increments
	Name string
	active binary
	timeAdded datetime
	lastChanged datetime
	controllers integer null >* Controllers.id
	schedules integer null *>* Schedules.id
	sensors integer null >* Sensors.id
	alerts integer null *>* Alerts.id
	currentTemp float
	currentHumid integer null
	statusHeat binary null
	statusAC binary null
	presence binary null
	thresholdsClosed binary null
}

Schedules {
	id integer pk increments
	active binary
	name string
	lastChanged datetime
	timeStart time null
	timeEnd time null
	weekDay integer null *>* Weekdays.id
	dateStart date null
	dateEnd date null
	tempMin float null
	tempMax float null
}

Sensors {
	id integer pk increments
	active binary
	Name string
	timeAdded timestamp
	timeUpdated datetime null
	comType integer > Communication.id
	comLast datetime null
	currentTemp float null
	currentHumid integer null
	presence binary null
	thresholdOpen binary null
}

Controllers {
	id integer pk increments
	Name string
	active binary
	comType integer > Communication.id
	Primary binary
	timeAdded timestamp
	timeChanged datetime null
	timeConnectLast datetime null
	controlHeat binary
	controlAC binary
	currentHeat binary null
	currentAC binary null
}

Communication {
	id integer pk increments
	Name string
	active binary
}

Alerts {
	id integer pk increments
	Name string unique
	active binary
	tripped binary
	schedule integer >* Schedules.id
	comType integer > Communication.id
	Actions text null
}

Weekdays {
	id integer pk increments
	Name string
}

